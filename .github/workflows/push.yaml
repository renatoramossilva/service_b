name: Push

on:
  workflow_run:
    workflows: ["Build"]
    types: [completed]

jobs:
  push:
    if: ${{ github.event.workflow_run.conclusion == 'success' }}
    uses: your-username/devops-actions/.github/workflows/reusable-push.yml@main
    with:
      image_name: your-dockerhub-username/service-b
      image_tag: ${{ github.event.workflow_run.head_sha }}
    secrets:
      DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
      DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
